<ion-modal-view>
  <ion-header-bar class="bar-dark">
    <div class="buttons">
      <button class="button button-clear" style="font-weight: 300; margin-left: 3px; font-size: 16px;" ng-click="hideNewConversation();">Cancel</button>
    </div>
    <h1 class="title" style="font-weight: 300; margin-top: 3px;">Start Conversation</h1>
    <div class="buttons">
      <button class="button button-icon button-clear ion-ios-search button-icon-small" style="color: white;" ng-click="showFilterBar()"></button>
    </div>
  </ion-header-bar>
  <ion-content>
    <ion-list>
      <ion-item
        class="item-remove-animate item-avatar item-icon-right"
        ng-repeat="user in userList track by user.username | orderBy:'username'"
        style="min-height:50px;"
        ng-click="startConversation(user._id);">
        <div ng-if="user.image !== undefined" class="avatar avatar-small avatar-with-status">
          <img http-src="/uploads/users/{{user.image}}">
          <span class="online-status online-status-online" ng-if="isUserOnline(onlineUsers, user)"></span>
          <span class="online-status online-status-offline" ng-if="!isUserOnline(onlineUsers, user)"></span>
        </div>
        <div ng-if="user.image == undefined" class="avatar avatar-small avatar-with-status">
          <img http-src="/uploads/users/defaultProfile.jpg">
          <span class="online-status online-status-online" ng-if="isUserOnline(onlineUsers, user)"></span>
          <span class="online-status online-status-offline" ng-if="!isUserOnline(onlineUsers, user)"></span>
        </div>
        <h3 style="margin-bottom: 0; margin-top: 3px; font-weight: 300;">{{user.fullname}}</h3>
        <h3>{{user.email}}</h3>
      </ion-item>
    </ion-list>
    <div ng-if="userList !== undefined && !userList.length" class="no-results">
      <p>No Results</p>
    </div>
  </ion-content>
</ion-modal-view>
